<html>

  <head>
    <link rel="stylesheet" href="wgan.css">
  </head>
  
  <body>
    <h1><a href="typo.html">TYPO</a> class reference manual</h1>
      (c) WGan 2021 <a href="https://en.wikipedia.org/wiki/MIT_License">[licence: MIT]</a>
      
    <p>
      This manual do not describe all classes. Specific errors or adapters could
      not be described here or described very brifely. Lets take a look on list
      of classes. In order of appearance:
    <ul>
      <li>typo_core module<ul>
        <li><a href="#gen_timestamp">gen_timestamp</a></li>
        <li><a href="#gen_typo_version">gen_typo_version</a></li>
        <li><a href="#gen_user_code">gen_user_code</a></li>
        <li><a _href="#_">template_line</a></li>
        <li><a _href="#_">identifier_not_found</a></li>
        <li><a href="#loop_error_when_resolving">loop_error_when_resolving</a></li>
        <li><a href="#module_not_loaded">module_not_loaded</a></li>
        <li><a href="#typo_context">typo_context</a></li>
        <li><a _href="#_">path_not_secified</a></li>
        <li><a _href="#_">path_not_found</a></li>
        <li><a _href="#_">file_name_is_not_defined</a></li>
        <li><a _href="#_">malformed_file_name</a></li>
        <li><a _href="#_">context_reader</a></li>
        <li><a _href="#_">conv_CAPITALIZE_ALL</a></li>
        <li><a _href="#_">conv_lowercase_with_underscores</a></li>
        <li><a _href="#_">conv_UppercaseCamel</a></li>
        <li><a _href="#_">conv_lowercaseCamel</a></li>
        </ul></li>
      <li>typo_inputs module:<ul>
        <li><a href="#file_lines">file lines</a></li>
        </ul></li>
      <li>typo_interpreter module<ul>
        <li><a _href="#_">user_code_placeholder_error</a></li>
        <li><a _href="#_">user_code</a></li>
        <li><a _href="#_">template_does_not_exist</a></li>
        <li><a _href="#_">cannot_translate</a></li>
        <li><a _href="#_">wrong_generator_for_inline</a></li>
        <li><a _href="#_">error_in_generator</a></li>
        <li><a _href="#_">output_file_generator</a></li>
        <li><a _href="#_">typo_processor</a></li>
        <li><a _href="#_">exit_typo</a></li>
        <li><a _href="#_">command_processor</a></li>
        <li><a _href="#_">typo_main</a></li>
        </ul></li>
      <li>typo_outputs module:<ul>
        <li><a _href="#_">output</a></li>
        <li><a _href="#_">console_output</a></li>
        <li><a _href="#_">output_decorator</a></li>
        <li><a _href="#_">line_split_decorator</a></li>
        <li><a _href="#_">text_source</a></li>
        <li><a _href="#_">indentation</a></li>
        <li><a _href="#_">prefixing_output_decorator</a></li>
        <li><a _href="#_">sufixing_output_decorator</a></li>
        <li><a _href="#_">indented_output</a></li>
        <li><a _href="#_">string_output</a></li>
        <li><a _href="#_">file_output</a></li>  
        </ul></li>
      <li>typo_tools module<ul>
        <li><a _href="#_">typo_error</a></li>
        <li><a href="#typo_generator">typo_generator</a></li>
        <li><a _href="#_">typo_converter</a></li>
        <li><a _href="#_">identifier_non_alphanueric_error</a></li>
        <li><a _href="#_">identifier_start_with_digit_error</a></li>
        <li><a _href="#_">identifier_formatter</a></li>
        </ul></li>
      </ul>
    And now, alphabetically:
     
    
    <h2><a name=file_lines></a>file_lines 
      <span class="parent">(list)</parent> 
      <span class="module">typo_input.py</span>
      </h2>
      Simple class helping reading from text file. It works as array of strings, 
      but it is constructed from file name. If file exists - it read whole file 
      and splits it into lines stored in the object.
    <ul>
      <li><b>__init__(file_name)</b> - constructore taking name of the file to 
        read. If file do not exist, the object is createtes as empty list. No
        exception are thrown.
    </ul>
    
      
    <h2><a name=loop_error_when_resolving></a>gen_timestamp 
      <span class="parent">(typo_generator)</parent> 
      <span class="module">typo_core.py</span>
      </h2>
      Simple code <a href="#typo_generator">generator</a> which generates 
      current timestamp. Timestamp is taken
      at the moment when generator is used. So do not be suprised when two 
      timestamps in the same document are different.
    <p>
      This generator could be used as inlined, because it neither use 
      indentations nor unformatted access to the output.
      
      
    <h2><a name="gen_typo_version"></a>gen_typo_version 
      <span class="parent">(typo_generator)</parent> 
      <span class="module">typo_core.py</span>
      </h2>
      Simple code <a href="#typo_generator">generator</a> which generates 
      version number of typo generator. It can be used in generated files
      to write information about version of typo who create them.
    <p>
      This generator could be used as inlined, because it neither use 
      indentations nor unformatted access to the output.
      
      
    <h2><a name="gen_user_code"></a>gen_user_code 
      <span class="parent">(typo_generator)</parent> 
      <span class="module">typo_core.py</span>
      </h2>      
      Simple code <a href="#typo_generator">generator</a> which places back code 
      added manually in output file. When file is generated, typo first 
      checks if the file exists, and reads parts located in place where
      template defines as <i>${user_code}</i>. 
    <p>
      This generator assumes that the output have possibility to 
      write unformatted code, but do not check it.
   
   
    <h2><a name="loop_error_when_resolving"></a>loop_error_when_resolving 
      <span class="parent">(typo_error)</parent> 
      <span class="module">typo_core.py</span>
      </h2>
      Error of resolving value containing <i>${name}</i> which value containg 
      another value name - and such chunk of the need of resolving - somewhere
      forms an loop. In such case we have infinite number of steps to obtain 
      the value. This is not higly welcome situation - so error is raised.
      </h2>
      
      
    <h2><a name="module_not_loaded"></a>module_not_loaded 
      <span class="parent">(typo_error)</parent> 
      <span class="module">typo_core.py</span>
      </h2>
      When module is needed, but the module itself cannot be found - this error 
      is raised. Lack of module could be a problem in the future, so better is 
      to raise error and leave the problem to the caller.
      
      
    <h2><a name="typo_context"></a>typo_context 
      <span class="module">typo_core.py</span>
      </h2>
      Typo context is a class of object used for communication between code 
      generators and the user of the program. Her you can store values accessible 
      by the output file generator and generators it calls. Context also provides
      simple processing of values allowng to replace placeholders located in the
      string values. 
    <p>
      Any python values can be stored in context. It does not limit neither type
      nor the complexity of the values. It also do not provide any check of 
      values. When you want to use tem in your generator - provide your own check
      or use <a href="context_reader">context reader</a> 
      class - simple helper which allow to take values and check them.
    <p>
      Context also stores all information needed by the interpreter. It is also 
      responsigle for loading modules with generators and converters, and storing
      additional code loaded when re-generating output files. Feel free to 
      store any values you need to store during a session.
    <p>
      Context object is created once when <a href="typo_processor">typo 
      processor</a> object is created and exists at least till the end of 
      its existance, so you can keep here values which need to survive between
      creation of subsequent output files.
    <p>
      Context provide set of methods getting and getting data from its content:
    <ul>
      <li><b>set_value(name, value)</b> just sets the value. Name should be a 
        string, value can be of any type which could be stored. No preprocessing
        is performed - so the placeholders are stored in value without 
        translation.</li>
      <li><b>get_not_interpreted_value(name)</b> returns the value from the 
        values dictionary without interpreting it. When the value do not exist, 
        None is returned.</li>
      <li><b>get_value(name)</b> main function for reading values. Returns value
        from the dictionary. If the value is string or list of strings, 
        placeholders located inside are interpreted and replaced by values. 
        Plaholders can represent any value name and can be decorated by converter,
        but cannot use generators. When value does not exist - function returns 
        None</li>
      <li><b>pop_user_code()</b> Returns next user code block to store inside 
        the generated file. When no more blocks are available - function returns
        empty string.</li>
      <li><b>import_module(module_name)</b> - loads python code module and adds
        it to the collection of modules to search for generators and 
        converters.</li>
      <li><b>create_object(class_name)</b> - function creating object of the 
        class of given name. When the class is not a part of typo, all loaded
        modules are searched. When class cannot be found, None is returned.
        </li>
      <li><b>_get_value(name)</b> provides technical solution for taking and
        interpreting value</li>
      <li><b>_translate_value(value)</b> translates value when the value is 
        string or list of strings</li>
      <li><b>_strip_and_get_converter(name)</b> - checks if the name contain
        placeholder written after the dot. If yes - function returns
        pair of values - stripped anem and already created converter object.
        If converter is not found - result is the name and None object.
        </li>
      <li><b>_translate_text(text)</b> - translates text by looking for 
        placeholder and replacing it by its value.</li>
      </ul>
    <p>
      You can also directly refer to fields of context:
    <ul>
      <li><b>values</b> dictionary containing all values set by <b>set_value</b>
        functions. Just keeps all values. Feel free to store anything you
        want here. You can also directly access values or remove them.</li>
      <li><b>user_code</b> list of blocks of user code. From this list you can 
        read by function <b>pop_user_code</b>. This list is filled once per 
        byulding output file. When output file already exist, typo reads
        it and try to recognize code added by the user. Such code is stored here 
        before generation of the file.</li>
      <li><b>modules</b> - list of all modules loaded by <b>import_module</b>.
        When context is asked for generator or converter object (function
        <b>create_object</b>)- these modules
        are searched for definition of needed class.</li>
    </ul>
    
    
    <h2><a name="typo_generator"></a>typo_generator 
      <span class="module">typo_tools.py</span>
      </h2>
      Base class of code generators. When building output file using template, 
      symbols in a form <i>${name}</i> works as placeholders. Such placeholders 
      can be filled with the code generated by Python written code. Typo takes 
      the <i>name</i> from the placeholder and assumes, that it is the name 
      of the class generating code. Such class should have a form described 
      here.
    <p>
      Generators must have at least one method named <i>generate</i>:
      <ul>
        <li><b>generate(context, output)</b> - the method which need to 
          be written in your own generators. It receives from typo two parameters:
          <ul>
            <li><b><a href="#typo_context">context</a></b> - access to configuration and
              data.</li>
            <li><b><a href="#ouput">output</a></b> - possibility to write to output.
              This parameter usually gives more functionality, but better to check 
              if the methods you want to use are available. Usually it is 
              enough to check if the output is of type 
              <a href="#indented_output">indented_output</a>. This output is passed when the
              generator is called as the only one element in template file line.
          </ul></li>
      </ul>
      
  </body>
  
</html>